# Natural Message Passing \{#chap:natural_message\}

------------------------------------------------------------------------

\
**Prerequisites:**
[\[chap:mpnn\]](#chap:mpnn)\{reference-type="ref+label"
reference="chap:mpnn"\}\
**Difficulty Level:** \*\*\

------------------------------------------------------------------------

Geometric deep learning directs that deep networks should be designed to
be equivariant to relevant symmetry groups such as the translational
group or the rotational group. However, it is in fact possible to build
equivariant networks which obey looser symmetries than rigid group
symmetries [@de2020gauge], [@de2020natural], [@suk2021mesh].

## Mathematical Intuition

Some natural symmetries form a groupoid structure rather than a group
structure. A groupoid is similar to a group, but lacks an inverse
operation.

Some systems obey local instead of global symmetries. In particular,
gauge equivariances are local rather than global.

Natural graph networks along with the natural message passing algorithm
loosen the definition of a graph network to allow for a more general
definition. This more flexible notion, based on the groupoid of graph
isomorphisms, allows for easy definition of natural graph networks and
gauge equivariant mesh CNNs, which respectively solve the two
generalized scenarios described above.

### Groupoids and groups

A groupoid a generalization of a graph in which there does not
necessarily have identity or inverses.

## Method Design

Each object in a groupoid is mapped to a feature vector space. A natural
transformation network maps generalized equivariant networks to
groupoids.

Natural graph networks generalize this concept to graph networks. The
core operation in a natural graph network is the natural message passing
algorithm. As an example, gauge equivariant manifold CNNs can have
naturality on a manifold CNN.
