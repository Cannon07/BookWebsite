# Electrical Circuits \{#chap:electric_circuits\}

------------------------------------------------------------------------

\
**Prerequisites:**
[\[chap:electric_current\]](#chap:electric_current)\{reference-type="ref+label"
reference="chap:electric_current"\},\
**Difficulty Level:** \*\

------------------------------------------------------------------------

An electrical circuit consists of individual electronic components such
as resistors, capacitors, inductors, transistors and diode connected by
conducting wires. Electrical circuits can be used to compute various
functions on demand. This functionality means that electric circuits are
tremendously useful for real physical devices.

In this chapter, we introduce you to the basics components of electrical
circuits and provide you with some mathematical tools to model them.
We'll study both direct current and alternating current circuits as we
make our tour.

## Basics of Circuits

An electrical circuit is a mathematical abstraction of a real system
with sources of electrical power (say a battery or other source) and
various \"circuit elements\" which transform the input electrical power
in various ways. Figure
[1.1](#fig:circuit_diagram_and_schematic)\{reference-type="ref"
reference="fig:circuit_diagram_and_schematic"\} demonstrates a drawing of
a real circuit and its associated diagram.

<figure id="fig:circuit_diagram_and_schematic">
<p><img
src="figures/Physics/electromagnetism/electrical_circuits/Real_Electrical_Circuit_1.png"
style="width:70.0%" alt="image" /> <img
src="figures/Physics/electromagnetism/electrical_circuits/Real_Electrical_Circuit_2.png"
style="width:70.0%" alt="image" /></p>
<figcaption>Example of a real electrical circuit and its diagrammatic
representation. </figcaption>
</figure>

Working with a diagrammatic abstraction of a circuit brings powerful
advantages. Electrical engineers have developed a series of mathematical
abstractions that will allow us to transform a given circuit into a set
of equations which can be solved. As we will see later in this chapter,
this same set of equations can be easily transformed into differentiable
programs for modelling circuits.

### Basic Circuit Concepts

We first need to introduce the basic physical concepts underpinning
circuits. To start, we will stick to direct-current (DC) circuits in
which the voltage does not vary or oscillate with time. Each current
must have a voltage source which provides a fixed voltage difference
$V$. The voltage difference will induce electrical charges to move and
create an electrical current. We will refer to charge as $Q$ and current
as $I$.

Resistors are a basic circuit element. Roughly put, a resistor is a
region of the circuit where current can't freely flow. You can think of
a resistor as an insulating element stuck into a circuit. Current can
cross a resistive region, but at the cost of some energy. The
fundamental equation which models a resistor is given by Ohm's law.

## Ohm's Law

Suppose we have a circuit with a given resistor with resistance $R$.
Then the voltage difference across the resistor $V$ is proportional to
the product of the current $I$ moving across the resistor and the
resistance. $$V = IR$$

Let's turn this into a simple differentiable program.

    Voltage, Current, Resistance : $\mathbb\{R\}$
    def ohms(I: Current, R: Resistance) -> Voltage:
      return I * R

The next basic circuit element is the capacitor, which stores electric
energy in the electric field. The capacitor has two separated plates. As
charge $Q$ flows, a voltage difference $V$ builds up across the plates.
The defining equation of a capacitor is given by

$$\begin\{aligned\}
C = \frac\{Q\}\{V\}
\end\{aligned\}$$

where $C$ is a quantity known as the capacitance.

Inductors are similar to capacitors but store energy in a magnetic field
rather than in the electric field. The defining equation of an inductor
is given by

$$\begin\{aligned\}
\Phi &= LI
\end\{aligned\}$$ where $L$ is a quantity called the inductance.

### Alternating Current Circuits

Many real world systems have alternating current sources. Here, the
voltage in the system is given by some time varying source $V(t)$. The
current then becomes a time varying function $I(t)$ as well.

Impedence is the opposition a circuit presents to current when voltage
is applied. The impedence is a complex number typically represented as
$Z$. The impedence will prove a crucial quantity to analyze the behavior
of an alternating current. Let's analyze the impedence of a simple
alternating current circuit. We write the current as $$\begin\{aligned\}
I(t)  &= |I|e^\{j(\omega t + \phi_I)\}
\end\{aligned\}$$ We write the voltage similarly as $$\begin\{aligned\}
V(t) &= |V|e^\{j(\omega t + \phi_V)\}
\end\{aligned\}$$ The impedence is defined as the ratio of voltage to
current $$\begin\{aligned\}
Z &= \frac\{V\}\{I\} \\
&= \frac\{|V|\}\{|I|\}e^\{j(\phi_V-\phi_I)\}
\end\{aligned\}$$ Note that $Z$ does not vary in time. We can use these
definitions to compute the impedence for resistors, capacitors, and
inductors to be $$\begin\{aligned\}
    Z_R &= R\\ 
    Z_C &= \frac\{1\}\{j\omega C\} \\
    Z_L &= j\omega L
\end\{aligned\}$$

## Transfer Functions

For a continuous time input signal $x(t)$ and output signal $y(t)$, the
transfer function $H(s)$ is the ratio of the Laplace transforms of the
output and the input $$\begin\{aligned\}
    H(s) = \frac\{\mathcal\{L\}\{y(t)\}(s)\}\{\mathcal\{L\}\{x(t)\}(s)\}
\end\{aligned\}$$ where $\mathcal\{L\}$ here denotes the Laplace transform
and not a loss function. We write $s = \sigma + j\omega$ as a complex
variable as the Laplace transformed variable. The transfer function
proves a powerful tool to consider complex circuits with chained
transformations.

## Analyzing Circuits

Mathematically analyzing a circuit can become complex quickly. In this
section, we review a few standard methods for circuit analysis.

### Kirchhoff's Laws

Kirchoff's laws provide standard rules for transforming an electrical
circuit into a system of equations.

Kirchhoff's Circuit Law states that for any junction in an electrical
circuit, the current entering the junction is equal to the current
leaving the junction. Kirchhoff's Voltage Law states that the sum of the
voltages around a closed loop is zero.

These two laws can be used to analyze complex circuits and transform
them into equations which can be solved analytically and
programmatically.

### RC Circuit

Let's consider a simple resistor-capacitor circuit as in Figure
[\[rc_simple\]](#rc_simple)\{reference-type="ref" reference="rc_simple"\}.

$$C \frac\{dV\}\{dt\} + \frac\{V\}\{R\} = 0$$ where $C$ is the capacitance of
the circuit and $V$ is the voltage across it. Let's solve this equation
$$\begin\{aligned\}
    C \frac\{dV\}\{dt\} + \frac\{V\}\{R\} &= 0 \\
    -\frac\{1\}\{V\} \frac\{dV\}\{dt\} &= \frac\{1\}\{RC\} \\
    - \int \frac\{1\}\{V\} \frac\{dV\}\{dt\} dt &= \frac\{T\}\{RC\} \\
    - \ln(V) - \ln(V_0) &= \frac\{T\}\{RC\} \\
    V &= V_0 e^\{-\frac\{CT\}\{R\}\}
\end\{aligned\}$$

Note how the voltage held in the capacitor dissipates over time.

::: marginfigure
![image](figures/Physics/electromagnetism/electrical_circuits/Simple_RC.png)\{width="\\textwidth"\}
:::

::: marginfigure
![image](figures/Physics/electromagnetism/electrical_circuits/RC Circuit.png)\{width="\\textwidth"\}
:::
